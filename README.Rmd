---
output: 
  github_document: 
    html_preview: FALSE
    keep_html: FALSE
---

```{r, include = FALSE}
set.seed(11010)
knitr::opts_chunk$set(
  fig.path = "man/figures/README-"
)
```

# pmtables

<!-- badges: start -->
<!-- badges: end -->

Tables for pharmacometrics

## Installation

Installation information to be updated when ready.


## Examples

Continuous covariate summary!

```{r, message = FALSE, warning = FALSE}
library(dplyr)
library(pmtables)


data <- pmtables:::data("id") 
data <- mutate(data, STUDY = STUDYf)
```

# Continuous by study
```{r}
pt_cont_study(
  data, 
  cols = vars(BMI,ALB,AAG), 
  study_col = vars(Study = STUDY)
) 
```

# Continuous by covariate

```{r}
pt_cont_long(
  data, 
  cols = vars(WT,SCR,CRCL), 
  panel = vars("Renal function" = RFf)
) 
```

# Categorical by study

```{r}
pt_cat_study(
  data, 
  cols = vars(Sex = SEXf,"Renal function" = RFf), 
  study_col = vars(Study = STUDY)
) 
```

## Wide version

- Both tables look wide; at this point, "wide" means that the covariates are 
  going east to west

```{r}
pt_cat_study(
  data, 
  cols = vars(Sex = SEXf,"Renal function" = RFf), 
  study_col = vars(Study = STUDY), 
  wide = TRUE
) 
```


# Data disposition

## By study

```{r}
data <- pmtables:::data("id")
pt_data_inventory(
  data, 
  by = vars(Study = STUDYf)
)
```

## By study and covariate
```{r}
data <- pmtables:::data("obs") %>% filter(SEQ==1)
pt_data_inventory(
  data, 
  panel = vars(Study = STUDYf), 
  by = vars(Sex = SEXf)
)
```

## Stacked by endpoint

```{r}
data <- pmtables:::data("obs")
pt_data_inventory(
  data, 
  panel = vars(Endpoint = SEQf), 
  by = vars(Study = STUDYf), 
  stacked = TRUE
)
```
